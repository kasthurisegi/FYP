{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport AntDesignIcon from \"@expo/vector-icons/AntDesign\";\nimport { WhatsAppOutlined } from '@ant-design/icons';\nimport { DataProcessorContext } from \"../context/DataProcessor\";\nimport { auth, storage, db } from \"../../FirebaseConfig\";\nimport { doc, setDoc, deleteDoc } from 'firebase/firestore';\nimport { v4 as uuid } from 'uuid';\nimport moment from 'moment';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar FavouriteScreen = function FavouriteScreen() {\n  var _useContext = useContext(DataProcessorContext),\n      currentUser = _useContext.currentUser,\n      roommate = _useContext.roommate,\n      selectedRoommate = _useContext.selectedRoommate,\n      dispatchSelectRoommate = _useContext.dispatchSelectRoommate,\n      favorite = _useContext.favorite;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currRoommate = _useState2[0],\n      setCurrRoommate = _useState2[1];\n\n  useEffect(function () {\n    var newArray = roommate == null ? void 0 : roommate.map(function (item) {\n      var state = favorite && favorite.some(function (fav) {\n        return item.roommateID === fav.roommateID;\n      });\n      return _objectSpread(_objectSpread({}, item), {}, {\n        favorite: state\n      });\n    });\n    setCurrRoommate(newArray);\n  }, [favorite, roommate]);\n  return _jsx(View, {\n    children: currRoommate && currRoommate.map(function (item) {\n      if (item.favorite) {\n        return _jsx(Text, {\n          children: item.name\n        });\n      }\n    })\n  });\n};\n\nexport default FavouriteScreen;","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigation","AntDesignIcon","WhatsAppOutlined","DataProcessorContext","auth","storage","db","doc","setDoc","deleteDoc","v4","uuid","moment","FavouriteScreen","currentUser","roommate","selectedRoommate","dispatchSelectRoommate","favorite","currRoommate","setCurrRoommate","newArray","map","item","state","some","fav","roommateID","name"],"sources":["/Users/eason/Desktop/git-project/FYP/src/containers/FavouriteScreen.js"],"sourcesContent":["import { View, Text, StyleSheet, Image,TouchableOpacity, Linking } from 'react-native'\nimport React, {useState, useEffect, useContext} from 'react'\nimport { useNavigation } from '@react-navigation/native'\nimport AntDesignIcon from 'react-native-vector-icons/AntDesign'\nimport { WhatsAppOutlined } from '@ant-design/icons'\nimport { DataProcessorContext } from '../context/DataProcessor'\nimport { auth, storage, db } from '../../FirebaseConfig'\nimport { doc, setDoc, deleteDoc } from 'firebase/firestore'\nimport { v4 as uuid } from 'uuid'\nimport moment from 'moment'\n\nconst FavouriteScreen = () => {\n\n  const { \n    currentUser,\n    roommate,\n    selectedRoommate,\n    dispatchSelectRoommate,\n    favorite\n  } = useContext(DataProcessorContext);\n\n  const [currRoommate, setCurrRoommate] = useState(null);\n\n  useEffect(() => {\n    const newArray = roommate?.map(item => {\n      var state = favorite && favorite.some(fav => item.roommateID === fav.roommateID)\n        return {...item, favorite: state}\n    })\n\n    setCurrRoommate(newArray)\n    \n  },[favorite, roommate])\n\n  return (\n    <View>\n    {currRoommate && currRoommate.map(item =>{\n      if(item.favorite){\n        return(\n          <Text>{item.name}</Text>\n        )\n      }\n    })\n    }\n    </View>\n  )\n}\n\nexport default FavouriteScreen"],"mappings":";;;;;;;;;;;;;AACA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,OAAOC,aAAP;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,SAASC,oBAAT;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,EAAxB;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,SAAtB,QAAuC,oBAAvC;AACA,SAASC,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EAE5B,kBAMId,UAAU,CAACI,oBAAD,CANd;EAAA,IACEW,WADF,eACEA,WADF;EAAA,IAEEC,QAFF,eAEEA,QAFF;EAAA,IAGEC,gBAHF,eAGEA,gBAHF;EAAA,IAIEC,sBAJF,eAIEA,sBAJF;EAAA,IAKEC,QALF,eAKEA,QALF;;EAQA,gBAAwCrB,QAAQ,CAAC,IAAD,CAAhD;EAAA;EAAA,IAAOsB,YAAP;EAAA,IAAqBC,eAArB;;EAEAtB,SAAS,CAAC,YAAM;IACd,IAAMuB,QAAQ,GAAGN,QAAH,oBAAGA,QAAQ,CAAEO,GAAV,CAAc,UAAAC,IAAI,EAAI;MACrC,IAAIC,KAAK,GAAGN,QAAQ,IAAIA,QAAQ,CAACO,IAAT,CAAc,UAAAC,GAAG;QAAA,OAAIH,IAAI,CAACI,UAAL,KAAoBD,GAAG,CAACC,UAA5B;MAAA,CAAjB,CAAxB;MACE,uCAAWJ,IAAX;QAAiBL,QAAQ,EAAEM;MAA3B;IACH,CAHgB,CAAjB;IAKAJ,eAAe,CAACC,QAAD,CAAf;EAED,CARQ,EAQP,CAACH,QAAD,EAAWH,QAAX,CARO,CAAT;EAUA,OACE,KAAC,IAAD;IAAA,UACCI,YAAY,IAAIA,YAAY,CAACG,GAAb,CAAiB,UAAAC,IAAI,EAAG;MACvC,IAAGA,IAAI,CAACL,QAAR,EAAiB;QACf,OACE,KAAC,IAAD;UAAA,UAAOK,IAAI,CAACK;QAAZ,EADF;MAGD;IACF,CANgB;EADjB,EADF;AAYD,CAlCD;;AAoCA,eAAef,eAAf"},"metadata":{},"sourceType":"module"}